

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/ZHQBlog.github.io.git/img/fluid.png">
  <link rel="icon" href="/ZHQBlog.github.io.git/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="倔强的小强">
  <meta name="keywords" content="倔强的小强">
  
    <meta name="description" content="通过学习黑马程序员的Linux8所写的笔记，主要讲解Linux8的基本命令和基本服务">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux8">
<meta property="og:url" content="https://zhqblog.github.io/2021/11/13/Linux8/index.html">
<meta property="og:site_name" content="小强的博客">
<meta property="og:description" content="通过学习黑马程序员的Linux8所写的笔记，主要讲解Linux8的基本命令和基本服务">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-11-13T11:03:57.000Z">
<meta property="article:modified_time" content="2022-05-20T02:16:01.081Z">
<meta property="article:author" content="倔强的小强">
<meta property="article:tag" content="倔强的小强">
<meta name="twitter:card" content="summary_large_image">
  
  
  <title>Linux8 - 小强的博客</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/ZHQBlog.github.io.git/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/ZHQBlog.github.io.git/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/ZHQBlog.github.io.git/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"zhqblog.github.io","root":"/ZHQBlog.github.io.git/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/ZHQBlog.github.io.git/local-search.xml"};
  </script>
  <script  src="/ZHQBlog.github.io.git/js/utils.js" ></script>
  <script  src="/ZHQBlog.github.io.git/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/ZHQBlog.github.io.git/">
      <strong>❤</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/ZHQBlog.github.io.git/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/ZHQBlog.github.io.git/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/ZHQBlog.github.io.git/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/ZHQBlog.github.io.git/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/ZHQBlog.github.io.git/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/ZHQBlog.github.io.git/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Linux8"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2021-11-13 19:03" pubdate>
          2021年11月13日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          13k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          106 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Linux8</h1>
            
            <div class="markdown-body">
              
              <h1 id="Linux8"><a href="#Linux8" class="headerlink" title="Linux8"></a>Linux8</h1><h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><ol>
<li>**/**：根目录</li>
<li><strong>bin</strong>：存储一些二进制文件，文件都是可以被运行的</li>
<li><strong>sbin</strong>：存储一些可以被执行的二进制文件，但必须有super权限的用户才能执行</li>
<li><strong>dev</strong>：存储外接设备，外接设备不能直接使用，需要挂载</li>
<li><strong>etc</strong>：存储一些配置文件</li>
<li><strong>home</strong>：除了root用户以外的其他用户的家目录</li>
<li><strong>proc</strong>：存储linux运行时的进程</li>
<li><strong>root</strong>：root用户的家目录</li>
<li><strong>tmp</strong>：临时的，存储系统运行产生的临时文件</li>
<li><strong>lib</strong>：库文件</li>
<li><strong>usr</strong>：存放用户自己安装的软件</li>
<li><strong>var</strong>：存放的程序或系统的日志文件</li>
<li><strong>boot</strong>：系统内核</li>
<li><strong>media</strong>：移动设备默认挂载点</li>
<li><strong>mnt</strong>：外接设备手动挂载在mnt目录</li>
</ol>
<h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><p>tcpdump -nn -i 网卡名称(eth0) port 端口</p>
<h3 id="命令管理"><a href="#命令管理" class="headerlink" title="命令管理"></a>命令管理</h3><h4 id="别名机制"><a href="#别名机制" class="headerlink" title="别名机制"></a>别名机制</h4><p>创建自定的命令，依靠别名映射文件~/.bashrc</p>
<h4 id="快捷键："><a href="#快捷键：" class="headerlink" title="快捷键："></a>快捷键：</h4><p>Ctrl+U：删除光标前的内容</p>
<p>Ctrl+C：终止命令执行</p>
<p>Ctrl+Shift+C：复制</p>
<p>Ctrl+Shift+V：粘贴</p>
<p>clear或Ctrl+L：清除终端中的命令或信息</p>
<h4 id="help"><a href="#help" class="headerlink" title="help"></a>help</h4><p>type 命令：查看命令是内部命令（Shell内部）还是外部命令</p>
<p>功能：获取命令说明</p>
<p>格式：内部命令：<code>help 命令</code></p>
<p>​            外部命令：<code>命令 --help</code></p>
<h4 id="man"><a href="#man" class="headerlink" title="man"></a>man</h4><p>功能：查看命令详细说明</p>
<p>格式：<code>man 命令</code></p>
<h4 id="which"><a href="#which" class="headerlink" title="which"></a>which</h4><p>功能：查看命令的绝对路径</p>
<p>格式：<code>which 命令</code></p>
<h4 id="whereis"><a href="#whereis" class="headerlink" title="whereis"></a>whereis</h4><p>功能：查看命令的绝对路径以及文档手册信息</p>
<p>格式：<code>whereis 命令</code></p>
<h4 id="管道"><a href="#管道" class="headerlink" title="管道 |"></a>管道 |</h4><p>管道不能单独使用，要结合其他命令使用</p>
<ol>
<li>管道前边命令的输出结果用于管道后边命令的输入</li>
<li>|xargs：结合管道使用，让上一个的标准输出作为下一个命令的参数</li>
</ol>
<h4 id="sudo"><a href="#sudo" class="headerlink" title="sudo"></a>sudo</h4><ol>
<li>sudo可以让管理员事先定义某些特殊命令谁可以执行</li>
<li>sudo的配置文件：/etc/sudoers</li>
<li>使用visudo命令打开配置文件，进行修改，允许的命令建议用which查看完整路径在写入</li>
</ol>
<h3 id="目录管理"><a href="#目录管理" class="headerlink" title="目录管理"></a>目录管理</h3><h4 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h4><p>功能：列出当前目录下所有内容</p>
<p>格式：<code>ls [选项] [文件名或目录名]</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-s</td>
<td>显示每个文件的大小</td>
</tr>
<tr>
<td>-S</td>
<td>按文件大小排序</td>
</tr>
<tr>
<td>-a</td>
<td>显示目录中全部文件（包括隐藏文件）</td>
</tr>
<tr>
<td>-l</td>
<td>使用长列表格式，显示文件详细信息</td>
</tr>
<tr>
<td>-t</td>
<td>按文件修改的时间排序</td>
</tr>
<tr>
<td>-F</td>
<td>显示文件类型描述符</td>
</tr>
<tr>
<td>-h</td>
<td>通过可读性高的形式展示</td>
</tr>
</tbody></table>
<h4 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h4><p>功能：切换用户所在目录</p>
<p>格式：<code>cd [路径名或特殊符号]</code></p>
<p>特殊符号及作用：</p>
<table>
<thead>
<tr>
<th>特殊符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>/</td>
<td>从当前目录跳转到根目录</td>
</tr>
<tr>
<td>.</td>
<td>前往当前目录</td>
</tr>
<tr>
<td>. .</td>
<td>前往上一级目录</td>
</tr>
<tr>
<td>-</td>
<td>进入当前目录之前操作的目录</td>
</tr>
<tr>
<td>~或无参数</td>
<td>回到当前用户的家目录</td>
</tr>
</tbody></table>
<h4 id="pwd"><a href="#pwd" class="headerlink" title="pwd"></a>pwd</h4><p>功能：显示当前目录的绝对路径</p>
<p>格式：<code>pwd</code></p>
<h4 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h4><p>功能：创建一个新的目录</p>
<p>格式：<code>mkdir [选项] 目录名</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-m 权限</td>
<td>对新建目录设置存取权限，权限有744、755等</td>
</tr>
<tr>
<td>-p</td>
<td>一次性创建多级目录（以递归形式创建）</td>
</tr>
</tbody></table>
<h4 id="rmdir"><a href="#rmdir" class="headerlink" title="rmdir"></a>rmdir</h4><p>功能：删除一个空目录</p>
<p>格式：<code>rmdir [-p] 目录名</code>（-p代表递归删除各级目录）</p>
<h3 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h3><h4 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h4><p>功能：创建一个空文件</p>
<p>格式：<code>touch 文件名</code></p>
<h4 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h4><p>功能：显示某文件的内容</p>
<p>格式：<code>cat [选项] [文件名]...</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>显示所有字符（换行符、制表符、其它非打印字符）</td>
</tr>
<tr>
<td>-n</td>
<td>对文件中所有的行进行编号并显示行号</td>
</tr>
<tr>
<td>-b</td>
<td>除了空行不编号，文件中其它行都进行编号并显示行号</td>
</tr>
<tr>
<td>-s</td>
<td>将连续的空行压缩为一个空行</td>
</tr>
</tbody></table>
<p>其它特殊格式：</p>
<table>
<thead>
<tr>
<th>特殊格式</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>cat 文件名 | ls</td>
<td>按页显示文件内容</td>
</tr>
<tr>
<td>cat</td>
<td>此命令没有任何参数，即cat单独使用。在开始执行时，光标停留在下一行，等待键盘输入，当用户输入一行后，按下回车，就会显示一行相同的内容。当用户结束输入时，按下Ctrl+D键退出，回到命令提示符下。</td>
</tr>
<tr>
<td>cat &gt; 新文件名</td>
<td>“&gt;”这个大于号是重导向符号。代表把键盘输入的信息重导向输入到新文件中。内容输入结束后，同样也是按Ctrl+D键退出新文件的制作。</td>
</tr>
<tr>
<td>cat 文件名2 &gt;&gt; 文件名1</td>
<td>该用法实现了把文件2的全部内容追加到文件1的末尾</td>
</tr>
<tr>
<td>cat 文件名1 文件名2 &gt; 文件名3</td>
<td>该用法实现了把文件1和文件2的内容合并输入到文件3中。文件3中的内容是按文件1和文件2的顺序排列的。</td>
</tr>
</tbody></table>
<h4 id="head"><a href="#head" class="headerlink" title="head"></a>head</h4><p>功能：查看文件开头部分的内容</p>
<p>格式：<code>head [数字选项] 文件名</code></p>
<p>数字选项及作用：</p>
<table>
<thead>
<tr>
<th>数字选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-3</td>
<td>显示文件前3行的内容</td>
</tr>
<tr>
<td>-n</td>
<td>显示文件前n行的内容</td>
</tr>
</tbody></table>
<p>说明：如果不指定数字选项，则默认只显示文件前10行。</p>
<h4 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h4><p>功能：查看文件结尾部分的内容</p>
<p>格式：<code>tail [数字选项] 文件名</code></p>
<p>数字选项及作用：</p>
<table>
<thead>
<tr>
<th>数字选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-3</td>
<td>显示文件末尾3行的内容</td>
</tr>
<tr>
<td>-n</td>
<td>显示文件末尾n行的内容</td>
</tr>
</tbody></table>
<p>说明：如果不指定数字选项，则默认只显示文件末尾10行的内容。</p>
<h4 id="more"><a href="#more" class="headerlink" title="more"></a>more</h4><p>功能：对文件内容或查询结果分屏显示</p>
<p>格式：<code>more [选项] 文件名</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-p</td>
<td>清屏，不滚屏</td>
</tr>
<tr>
<td>-s</td>
<td>把连续的空行压缩为一个空行</td>
</tr>
<tr>
<td>+n</td>
<td>从第n行开始显示</td>
</tr>
</tbody></table>
<h4 id="less"><a href="#less" class="headerlink" title="less"></a>less</h4><p>功能：对文件内容或查询结果分屏显示</p>
<p>格式：<code>less [选项] 文件名</code></p>
<h4 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h4><p>功能：在指定的文件中查找指定的字符串</p>
<p>格式：<code>grep [选项] 关键字 文件名</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-i</td>
<td>不区分大小写</td>
</tr>
</tbody></table>
<h5 id="规则表达式"><a href="#规则表达式" class="headerlink" title="规则表达式"></a>规则表达式</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell">^    # 锚定行的开始 如：&#x27;^grep&#x27;匹配所有以grep开头的行。    <br><span class="hljs-meta">$</span><span class="bash">    <span class="hljs-comment"># 锚定行的结束 如：&#x27;grep$&#x27; 匹配所有以grep结尾的行。</span></span><br>.    # 匹配一个非换行符的字符 如：&#x27;gr.p&#x27;匹配gr后接一个任意字符，然后是p。    <br>*    # 匹配零个或多个先前字符 如：&#x27;*grep&#x27;匹配所有一个或多个空格后紧跟grep的行。    <br>.*   # 一起用代表任意字符。   <br>[]   # 匹配一个指定范围内的字符，如&#x27;[Gg]rep&#x27;匹配Grep和grep。    <br>[^]  # 匹配一个不在指定范围内的字符，如：&#x27;[^A-FH-Z]rep&#x27;匹配不包含A-R和T-Z的一个字母开头，紧跟rep的行。    <br>\(..\)  # 标记匹配字符，如&#x27;\(love\)&#x27;，love被标记为1。    <br>\&lt;      # 锚定单词的开始，如:&#x27;\&lt;grep&#x27;匹配包含以grep开头的单词的行。    <br>\&gt;      # 锚定单词的结束，如&#x27;grep\&gt;&#x27;匹配包含以grep结尾的单词的行。    <br>x\&#123;m\&#125;  # 重复字符x，m次，如：&#x27;0\&#123;5\&#125;&#x27;匹配包含5个o的行。    <br>x\&#123;m,\&#125;   # 重复字符x,至少m次，如：&#x27;o\&#123;5,\&#125;&#x27;匹配至少有5个o的行。    <br>x\&#123;m,n\&#125;  # 重复字符x，至少m次，不多于n次，如：&#x27;o\&#123;5,10\&#125;&#x27;匹配5--10个o的行。   <br>\w    # 匹配文字和数字字符，也就是[A-Za-z0-9]，如：&#x27;G\w*p&#x27;匹配以G后跟零个或多个文字或数字字符，然后是p。   <br>\W    # \w的反置形式，匹配一个或多个非单词字符，如点号句号等。   <br>\b    # 单词锁定符，如: &#x27;\bgrep\b&#x27;只匹配grep。  <br></code></pre></td></tr></table></figure>



<h4 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h4><p>功能：进行文件的复制</p>
<p>格式：<code>cp [选项] 源文件 目标路径</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-i</td>
<td>以安全询问方式进行源文件的复制</td>
</tr>
<tr>
<td>-r</td>
<td>递归复制</td>
</tr>
<tr>
<td>-p</td>
<td>保留源文件或目录的属性</td>
</tr>
<tr>
<td>-a</td>
<td>递归复制，并保留源文件或目录的属性</td>
</tr>
</tbody></table>
<p>说明：该命令实现了把源文件复制到目标路径中，文件名不变。如果为目标路径下的文件名，则以文件的重命名方式实现文件的复制。目标路径可以是相对路径，也可以是绝对路径。</p>
<h4 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h4><p>功能：删除指定的文件</p>
<p>格式：<code>rm [选项] 文件名或目录名</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-i</td>
<td>以安全询问方式进行删除文件</td>
</tr>
<tr>
<td>-r</td>
<td>递归处理，将指定目录下的所有文件及子目录一并处理</td>
</tr>
<tr>
<td>-f</td>
<td>强制删除文件或目录</td>
</tr>
<tr>
<td>-v</td>
<td>显示指令执行过程</td>
</tr>
</tbody></table>
<h4 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h4><p>功能：移动指定的文件，可用于重命名文件</p>
<p>格式：<code>mv 文件名 路径名</code></p>
<h4 id="wc"><a href="#wc" class="headerlink" title="wc"></a>wc</h4><p>功能：统计文件的行数、单词数、字符数。</p>
<p>格式：<code>wc [选项] 文件名</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-l</td>
<td>显示文件的行数</td>
</tr>
<tr>
<td>-w</td>
<td>显示文件的单词数</td>
</tr>
<tr>
<td>-m</td>
<td>显示文件的字符数</td>
</tr>
</tbody></table>
<h4 id="file"><a href="#file" class="headerlink" title="file"></a>file</h4><p>功能：查看文件类型  （d文件夹，-文件，l软链接，c输入输出设备，b存储设备，p管道文件）</p>
<p>格式：<code>file 文件名</code></p>
<h4 id="stat"><a href="#stat" class="headerlink" title="stat"></a>stat</h4><p>功能：查看文件详细信息</p>
<p>格式：<code>stat 文件路径</code></p>
<h4 id="ln"><a href="#ln" class="headerlink" title="ln"></a>ln</h4><p>功能：创建链接</p>
<p>格式：硬链接：<code>ln 原始文件路径 快捷方式路径</code></p>
<p>​            软链接：<code>ln -s 原始文件路径 快捷方式路径</code></p>
<h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><p>功能：对文件内容或查询结果进行排序</p>
<p>格式：<code>sort [选项] 文件名</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>忽略大小写</td>
</tr>
<tr>
<td>-r</td>
<td>反向排序</td>
</tr>
<tr>
<td>-t</td>
<td>指定分隔符</td>
</tr>
<tr>
<td>-i</td>
<td>只考虑可以打印的字符，忽略任何非显示字符</td>
</tr>
</tbody></table>
<h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><p>功能：查找文件或目录</p>
<p>格式：<code>find 路径 选项 关键字</code></p>
<p>选项：</p>
<p>​    -name：按照文档名字进行搜索</p>
<p>​    -iname：忽略大小写按照文档名字进行搜索</p>
<p>​    -size：根据文件大小（-表示小于，+表示大于）</p>
<p>​    -type：按照文档类型进行搜索（-表示文件，d表示文件夹）</p>
<p><code>find 路径 选项 关键字 动作</code></p>
<p>动作：</p>
<p>​    -exec 命令：将找出的文件按照命令执行</p>
<p>​    -ok 命令：将找出的文件按照命令询问执行       命令后加{}表示find查找到的数据      然后必须以空格、反斜杠、                      分号结尾</p>
<p>​    -ls：将找出的文件详细信息列出</p>
<p>​    -delete：将找出的文件删除</p>
<h4 id="输出重定向"><a href="#输出重定向" class="headerlink" title="输出重定向"></a>输出重定向</h4><p>**”&gt;”**：覆盖输出，会覆盖原先文件的内容；1&gt;覆盖正确输出，会覆盖原先文件的内容；2&gt;覆盖错误输出，会覆盖原先文件的内容</p>
<p>**&amp;&gt;**：覆盖正确和错误输出，会覆盖原先文件的内容</p>
<p>**”&gt;&gt;”**：追加输出，在原先的文件末尾继续添加</p>
<p>格式：<code>查看文件指令 &gt; 文件（文件可以不存在，不存在会创建）</code></p>
<h4 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h4><p>功能：显示命令行中的字符串</p>
<p>格式：<code>echo [选项] [字符串]</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>输出字符串后，光标不换行</td>
</tr>
</tbody></table>
<h4 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h4><p>ls -l查看的信息的第一个十位字符含义：</p>
<p>​    第1位：文档类型（d文件夹，-文件，l软链接，c输入输出设备，b存储设备，p管道文件）</p>
<p>​    第2-4位：文档所有者的权限情况   （读：r -，-写：w -，执行：x -）（按照读、写、执行依次取值）</p>
<p>​    第5-7位：与所有者同在一个组的权限情况</p>
<p>​    第8-10位：其他用户的权限情况</p>
<p>功能：修改文件的权限和属性</p>
<p>格式： <code>chmod [&lt;文件使用者&gt;&lt;操作符号&gt;&lt;权限类型&gt;] 文件名1 文件名2...</code></p>
<p><strong>注：</strong>[&lt;文件使用者&gt;&lt;操作符号&gt;&lt;权限类型&gt;] 作为一个部分，中间不加空格。</p>
<ol>
<li><p>文件使用者有（ u、g、o、a） 4种类型，在使用时，可以采用其中的任何一个，也可以组合使用。</p>
<p>u：表示user（文件主），就是文件或目录的所有者</p>
<p>g：表示group（组群），文件主所在组群的用户</p>
<p>o：表示other，其他用户</p>
<p>a：表示all，所有用户</p>
</li>
<li><p>操作符号有3种类型，分别是 +、-、=。</p>
<p>+：表示增加权限</p>
<p>-：表示删除或取消权限</p>
<p>=：表示给文件使用者设定的权限</p>
</li>
<li><p>权限类型有3种基本类型，分别是r、w、x，-，这些类型可以组合使用。</p>
<p>r：代表可读权限</p>
<p>w：代表可写权限</p>
<p>x：代表可执行权限</p>
<p>-：表示没有相对应的权限</p>
</li>
</ol>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>a+rw</td>
<td>为所有用户增加可读、可写的权限</td>
</tr>
<tr>
<td>g+w</td>
<td>为组群用户加可写权限</td>
</tr>
<tr>
<td>a-rwx</td>
<td>取消所有用户可读、可写、可执行权限</td>
</tr>
<tr>
<td>o-rwx</td>
<td>取消其他用户可读、可写、可执行权限</td>
</tr>
<tr>
<td>a+rw</td>
<td>为所有用户加读、写的权限</td>
</tr>
<tr>
<td>ug+r</td>
<td>为所有者和组群用户增加读权限</td>
</tr>
<tr>
<td>g=rx</td>
<td>只允许组群用户可读、可执行，并删除其他权限</td>
</tr>
<tr>
<td>自定义</td>
<td>可以根据实际需要进行组合</td>
</tr>
</tbody></table>
<p>其他格式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">chmod [mode] 文件名<br></code></pre></td></tr></table></figure>

<p>mode是指 3个 0~7 范围的八进制数值，分别代表user、group、other 的权限，并且按照文件所有者，文件所有者所在群组的用户，其他人的顺序</p>
<p>权限也可以用数字来表示：0表示没有权限，1表示可执行权限，2表示可写权限，4表示可读权限。</p>
<p><strong>举例1：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">chmod a=rwx filename<br>chmod 777 filename<br></code></pre></td></tr></table></figure>

<p>对以上的两个例子分析：</p>
<p>a=rwx表示允许所有用户可读、可写、可执行。</p>
<p>777指三个八进制数值，即第一个数字“7”指允许user的可读、可写、可执行，第二个数字“7”指允许group的可读、可写、可执行，第三个数字“7”指允许other的可读、可写、可执行。</p>
<p>rwx权限=4+2+1=7（可读、可写、可执行）</p>
<p>rw权限=4+2=6（可读、可写）</p>
<p>rx权限=4+1=5（可读、可执行）</p>
<p><strong>举例2：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">chmod ug=rwx,o=x filename<br>chmod 771 filename<br></code></pre></td></tr></table></figure>

<ol>
<li><p>冒险位</p>
</li>
<li><p>强制位</p>
</li>
<li><p>粘滞位：公共目录中只能创建者和root你让那个删除文件（x位变为t）</p>
<p>chmod o+t 路径：添加粘滞位</p>
</li>
<li><p>默认权限：目录的默认权限最大为0777，文件的额默认权限最大为0666</p>
<ol>
<li><p>临时修改默认权限：用户名 umask 四位数     （目录默认权限=0777-umask；文件默认权限=0666-umask【文件默认没有x权限，如果算出来有x权限，权限进行加1，变成读或写权限】）</p>
</li>
<li><p>永久控制默认权限：</p>
<p>全部用户生效：vim /etc/bashrc配置文件最后添加umask 四位数字</p>
<p>某个用户生效：vim ~/.bashrc配置文件最后添加umask 四位数字</p>
</li>
</ol>
</li>
<li><p>ACL策略：对某个文件添加权限（ll后权限字段有+）</p>
<ol>
<li>给文件添加用户权限：setfacl -m u:用户名:权限(rwx) 文件名</li>
<li>给文件添加用户组权限：setfacl -m g:用户组名:权限(rwx) 文件名</li>
<li>查看文件的ACL策略：getfacl 文件名</li>
<li>删除文件的所有ACL策略：setfacl -b 文件名</li>
</ol>
</li>
</ol>
<h4 id="setfacl"><a href="#setfacl" class="headerlink" title="setfacl"></a>setfacl</h4><p>功能：设置文件权限</p>
<p>格式： </p>
<ol>
<li><p>给某个用户添加权限：<code>setfacl -m u:用户:rwx 文件</code></p>
<ol start="2">
<li>给某个用户组添加权限：<code>setfacl -m g:用户组:rwx 文件</code></li>
<li>删除某个用户添加权限：<code>setfacl -x u:用户:rwx 文件</code></li>
<li>删除某个用户组添加权限：<code>setfacl -x g:用户组:rwx 文件</code></li>
</ol>
</li>
</ol>
<p><strong>getfacl 文件</strong>：查看文件的权限</p>
<h4 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h4><p>功能：编辑文件</p>
<p>格式：<code>vim 文件路径</code></p>
<p>​            <code>    vim 文件路径1 文件路径2</code></p>
<p>打开文件并将光标移动到指定行：<code>vim +数字 文件路径</code></p>
<p>打开文件并将高亮显示关键词：<code>vim +/关键词 文件路径</code></p>
<h5 id="三种模式"><a href="#三种模式" class="headerlink" title="三种模式"></a>三种模式</h5><ol>
<li><p><strong>命令模式</strong>：在该模式下是不能对文件直接编辑，可以输入快捷键进行删除行，复制行，移动光标，粘贴等操作（打开文件默认进入）</p>
<ol>
<li>光标的移动：<ol>
<li>光标移动到行首：shift+6或^</li>
<li>光标移动到行尾：shift+4或$</li>
<li>光标移动到首行：gg</li>
<li>光标移动到末行：G</li>
<li>光标移动到指定行：数字G</li>
<li>以当前光标为基准移动指定行：数字上键/下键/左键/右键</li>
<li>向上翻屏：ctrl+b</li>
<li>向下翻屏：ctrl+f</li>
</ol>
</li>
<li>复制操作<ol>
<li>复制光标所在行：yy</li>
<li>以光标为准向下复制n行：nyy</li>
<li>可视化复制：ctrl+v，按上下左右选中，再按yy键复制</li>
</ol>
</li>
<li>剪切/删除<ol>
<li>剪切/删除光标所在行：dd</li>
<li>以光标为准向下剪切/删除n行：ndd</li>
<li>剪切/删除光标所在行，但下一行不向上移动：D</li>
</ol>
</li>
<li>粘贴：在想要粘贴的地方按p键</li>
<li>撤销/恢复<ol>
<li>撤销：输入：u 或u</li>
<li>恢复：ctrl+r，恢复之前的撤销操作</li>
</ol>
</li>
</ol>
</li>
<li><p><strong>编辑模式</strong>：在该模式下可以对文件的内容进行编辑  i或a进入编辑模式</p>
</li>
<li><p><strong>末行模式</strong>：可以在末行输入命令对文件进行操作（替换，保存，搜索，退出，撤销，高亮等）</p>
<p>在命令模式按：或/进入末行模式</p>
<ol>
<li>保存文件：：w</li>
<li>另存文件：：w  路径</li>
<li>退出：：q</li>
<li>保存并退出：：wq 或：x(修改则保存退出，不修改则原样退出)</li>
<li>强制退出：：q！</li>
<li>搜索/查找：/关键词（结果上下切换N/n）</li>
<li>取消高亮：：nohl</li>
<li>替换光标所在行的第一处：：s/搜索的关键词/替换的内容</li>
<li>替换光标所在行的全部符合内容：：s/搜索的关键词/替换的内容/g</li>
<li>替换每行的第一个符合内容：：%s/搜索的关键词/替换的内容</li>
<li>替换文档的全部符合内容：：%s/搜索的关键词/替换的内容/g</li>
<li>显示行号：set nu     取消行号：set nonu</li>
<li>同时打开多个文件时切换打开的文件：<ol>
<li>查看当前已经打开的文件名称：：files</li>
<li>切换文件：：open 文件名称           切换下一个文件：：bn      切换上一个文件：：bp</li>
</ol>
</li>
<li>代码着色：syntax on     不显示：syntax off</li>
</ol>
</li>
</ol>
<h5 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h5><p><strong>针对同一个配置项，若个人配置文件有该项，则以个人配置文件为准</strong></p>
<ol>
<li>个人配置文件~/.vimrc<ol>
<li>没有该文件，可以进行新建   .vimrc</li>
</ol>
</li>
<li>全局配置文件（vim自带）</li>
</ol>
<h5 id="异常退出"><a href="#异常退出" class="headerlink" title="异常退出"></a>异常退出</h5><p>将交换文件删除：rm -f .passwd.swp</p>
<h3 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h3><h4 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h4><p>需要下载好rpm包到本地</p>
<p>获取rpm包，RedHat/CentOS光盘；<a target="_blank" rel="noopener" href="http://www.pbone.net;相应软件官方下载/">www.pbone.net；相应软件官方下载</a></p>
<p>命令：</p>
<ol>
<li><p>查询：rpm -q 软件名：查询软件的安装情况</p>
<p>​            rpm -ql 软件名：查询软件的安装列表</p>
</li>
<li><p>卸载：rpm -e 软件名</p>
</li>
<li><p>卸载有依赖关系的软件：rpm -e 软件名 –nodeps</p>
</li>
<li><p>安装：rpm -ivh 软件包完整名称</p>
</li>
<li><p>升级：rpm -Uvh 软件包（没安装，会自动安装）或rpm -Fvh 软件包</p>
</li>
</ol>
<h4 id="yum-dnf"><a href="#yum-dnf" class="headerlink" title="yum/dnf"></a>yum/dnf</h4><p>需要配置软件仓库</p>
<ol>
<li>配置本地仓库<ol>
<li>挂载镜像：mount -o ro /dev/sr0 /media</li>
<li>配置.repo的文件</li>
</ol>
</li>
<li>配置网络仓库</li>
</ol>
<p>命令：</p>
<ol>
<li>清空缓存：yum clear all</li>
<li>创建yum缓存：yum makecache</li>
<li>查看仓库：yum repolist</li>
<li>查看仓库软件包：yum list</li>
<li>安装软件包：dnf install 软件包名</li>
<li>卸载：dnf -y remove 软件包</li>
<li>升级：dnf update 软件包</li>
</ol>
<h4 id="systemctl"><a href="#systemctl" class="headerlink" title="systemctl"></a>systemctl</h4><p><strong>systemctl命令</strong> 是系统服务管理器指令，它实际上将 service 和 chkconfig 这两个命令组合到一起。</p>
<table>
<thead>
<tr>
<th>任务</th>
<th>旧指令</th>
<th>新指令</th>
</tr>
</thead>
<tbody><tr>
<td>使某服务自动启动</td>
<td>chkconfig –level 3 httpd on</td>
<td>systemctl <strong>enable</strong> httpd.service</td>
</tr>
<tr>
<td>使某服务不自动启动</td>
<td>chkconfig –level 3 httpd off</td>
<td>systemctl <strong>disable</strong> httpd.service</td>
</tr>
<tr>
<td>检查服务状态</td>
<td>service httpd status</td>
<td>systemctl <strong>status</strong> httpd.service （服务详细信息）                       systemctl is-active httpd.service （仅显示是否 Active)</td>
</tr>
<tr>
<td>显示所有已启动的服务</td>
<td>chkconfig –list</td>
<td>systemctl list-units –type=service</td>
</tr>
<tr>
<td>启动服务</td>
<td>service httpd start</td>
<td>systemctl <strong>start</strong> httpd.service</td>
</tr>
<tr>
<td>停止服务</td>
<td>service httpd stop</td>
<td>systemctl <strong>stop</strong> httpd.service</td>
</tr>
<tr>
<td>重启服务</td>
<td>service httpd restart</td>
<td>systemctl <strong>restart</strong> httpd.service</td>
</tr>
<tr>
<td>重载服务</td>
<td>service httpd reload</td>
<td>systemctl <strong>reload</strong> httpd.service</td>
</tr>
</tbody></table>
<h4 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h4><p>功能：查看服务器进程信息</p>
<p>格式：<code>ps -ef</code></p>
<p>​    -e：表示列出全部的进程</p>
<p>​    -f：显示全部的列</p>
<p>查看某个进程的信息：<code>ps -ef | grep 进程路径名</code></p>
<h4 id="top"><a href="#top" class="headerlink" title="top"></a>top</h4><p>功能：查看进程资源</p>
<p>top：查看服务器的进程占的资源（Q键退出）</p>
<h4 id="kill"><a href="#kill" class="headerlink" title="kill"></a>kill</h4><p>功能：杀死进程</p>
<p>格式：<code>kill 进程PID</code>或<code>killall 进程名称</code></p>
<h4 id="reboot"><a href="#reboot" class="headerlink" title="reboot"></a>reboot</h4><p>功能：重启计算机</p>
<p>格式：<code>reboot</code></p>
<p>模拟重启，但不重启：<code>reboot -w</code></p>
<h4 id="shutdown"><a href="#shutdown" class="headerlink" title="shutdown"></a>shutdown</h4><p>shutdown -h now：现在关机</p>
<p>shutdown -h 10：10分钟后关机</p>
<p>shutdown -r now：现在重启</p>
<p>shutdown -r 10：10分钟后重启</p>
<p>shutdown -c：取消关机、重启</p>
<h4 id="uname"><a href="#uname" class="headerlink" title="uname"></a>uname</h4><p>功能：获取操作系统信息</p>
<p>​    uname -a：获取操作系统的详细信息</p>
<h4 id="运行级别"><a href="#运行级别" class="headerlink" title="运行级别"></a>运行级别</h4><p>/etc/inittab：运行级别配置文件</p>
<h4 id="at"><a href="#at" class="headerlink" title="at"></a>at</h4><p>功能：创建计划任务</p>
<p>格式：<code>at 选项 时间 </code>   ctrl+D退出</p>
<p>时间：<code>now + count time-units</code>，now就是当前时间，time-units是时间单位，这里能够是minutes（分钟）、hours（小时）、days（天）、weeks（星期）。count是时间的数量，究竟是几天，还是几小时，等等。 更有一种计时方法就是直接使用today（今天）、tomorrow（明天）来指定完成命令的时间</p>
<p>选项</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">-f：指定包含具体指令的任务文件；<br>-q：指定新任务的队列名称；<br>-l：显示待执行任务的列表；<br>-d：删除指定的待执行任务；<br>-m：任务执行完成后向用户发送E-mail。<br></code></pre></td></tr></table></figure>

<h4 id="crond"><a href="#crond" class="headerlink" title="crond"></a>crond</h4><p>功能：设定计划任务</p>
<p>-u user 是指设定指定 user 的时程表，这个前提是你必须要有其权限(比如说是 root)才能够指定他人的时程表g</p>
<p>格式：<code>crontab 选项</code></p>
<p>常用选项： -l：列出指定用户的计划任务列表</p>
<p>​                    -e：编辑指定用户的计划任务列表</p>
<p>编辑计划任务的语法规则：</p>
<table>
<thead>
<tr>
<th align="left">字段</th>
<th align="left">描述</th>
<th align="left">允许的值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">分钟</td>
<td align="left">一小时的第几分</td>
<td align="left">0-59</td>
</tr>
<tr>
<td align="left">小时</td>
<td align="left">一天的第几小时</td>
<td align="left">0-23</td>
</tr>
<tr>
<td align="left">日期</td>
<td align="left">一个月的的第几天</td>
<td align="left">1-31</td>
</tr>
<tr>
<td align="left">月份</td>
<td align="left">一年的第几个月</td>
<td align="left">1-12</td>
</tr>
<tr>
<td align="left">周几</td>
<td align="left">一周的第几天</td>
<td align="left">0-6</td>
</tr>
<tr>
<td align="left">命令</td>
<td align="left">命令</td>
<td align="left">可以被执行的任何命令</td>
</tr>
</tbody></table>
<p>​    分(0<del>23) 时(0</del>59) 日(1<del>31) 月(1</del>12) 周(0~7) 操作</p>
<p>*：表示取每个数字</p>
<p>-：表示取连续的区间（比如1-6）</p>
<p>/：表示每多少个（比如每十分钟一次可以在分的位置写*/10）</p>
<p>，：表示多个取值</p>
<p>管理用户不能设置计划任务：/etc/cron.deny</p>
<p>管理用户设置计划任务白名单：/etc/cron.allow</p>
<h3 id="磁盘管理"><a href="#磁盘管理" class="headerlink" title="磁盘管理"></a>磁盘管理</h3><h4 id="df"><a href="#df" class="headerlink" title="df"></a>df</h4><p>功能：查看当前硬盘的分区信息</p>
<p>格式：<code>df [选项]</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>显示每个文件系统和各分区的磁盘使用情况</td>
</tr>
<tr>
<td>-i</td>
<td>显示i节点的使用量</td>
</tr>
<tr>
<td>-k</td>
<td>以千字节（KB）的方式显示分区大小和挂上来的文件分区大小</td>
</tr>
<tr>
<td>-h</td>
<td>以兆字节（MB）的方式显示分区大小和挂上来的文件分区大小</td>
</tr>
<tr>
<td>-t</td>
<td>列出某个文件系统的所有分区磁盘空间使用量</td>
</tr>
</tbody></table>
<h4 id="du"><a href="#du" class="headerlink" title="du"></a>du</h4><p>功能：查看当前目录下所有文件及目录信息</p>
<p>格式：<code>du [选项]</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>显示所有文件及目录的大小</td>
</tr>
<tr>
<td>-h</td>
<td>以兆字节（MB）或吉字节（GB）为单位显示文件或目录的大小</td>
</tr>
<tr>
<td>-b</td>
<td>以字节（B）为单位显示文件或目录的大小</td>
</tr>
<tr>
<td>-s</td>
<td>列出各文件大小的总和</td>
</tr>
</tbody></table>
<h4 id="fsck"><a href="#fsck" class="headerlink" title="fsck"></a>fsck</h4><p>功能：对硬盘进行检测</p>
<p>格式：<code>fsck 分区名</code></p>
<h4 id="free"><a href="#free" class="headerlink" title="free"></a>free</h4><p>功能：查看内存</p>
<p>格式：<code>free -m</code></p>
<p>​    -m单位为mb</p>
<h3 id="时间管理"><a href="#时间管理" class="headerlink" title="时间管理"></a>时间管理</h3><h4 id="uptime"><a href="#uptime" class="headerlink" title="uptime"></a>uptime</h4><p>uptime：输出计算机持续在线时间</p>
<h4 id="date"><a href="#date" class="headerlink" title="date"></a>date</h4><ol>
<li><p>date：读取时间</p>
</li>
<li><p>date +%F：读取时间，年月日</p>
</li>
<li><p>date “+%F %T”：读取时间，年月日时分秒</p>
</li>
<li><p>date -d “-1 day” “+%Y-%m-%d %H:%M:%S”：输出一天前的时间</p>
</li>
</ol>
<h4 id="cal"><a href="#cal" class="headerlink" title="cal"></a>cal</h4><p>功能：查看日历</p>
<p>格式：<code>cal [选项] [月] [年]</code></p>
<p>选项:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">-l # 显示单月输出；<br>-3 # 显示临近三个月的日历；<br>-s # 将星期日作为月的第一天；<br>-m # 显示星期一作为一周的第一天..  (缺省为星期日.)<br>-j # 显示儒略历的(Julian)日期 (以 1 为基的天数, 从 1 月 1 日开始计数) .<br>-y # 显示当前年份的日历..<br></code></pre></td></tr></table></figure>



<h4 id="ntpdate"><a href="#ntpdate" class="headerlink" title="ntpdate"></a>ntpdate</h4><p>功能：使用网络计时协议（NTP）设置日期和时间</p>
<p>格式：<code>ntpdate [选项]</code></p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-aKeyid</td>
<td>使用 Keyid 来认证全部数据包。</td>
</tr>
<tr>
<td>-b</td>
<td>通过调用 settimeofday 子例程来增加时钟的时间。</td>
</tr>
<tr>
<td>-d</td>
<td>指定调试方式。判断 ntpdate 命令会产生什么结果（不产生实际的结果）。结果再现在屏幕上。这个标志使用无特权的端口。</td>
</tr>
<tr>
<td>-eAuthenticationDelay</td>
<td>指定延迟认证处理的时间秒数。</td>
</tr>
<tr>
<td>-kKeyFile</td>
<td>当不使用缺省值 /etc/ntp.keys 文件时，为包含密钥的文件指定一个不同的名称。 请参阅文件KeyFile的描述。</td>
</tr>
<tr>
<td>-oVersion</td>
<td>当轮询它的发出数据包时，指定使用的 NTP 版本实现。 Version 的值可以是 1，2，3。缺省值是 3。</td>
</tr>
<tr>
<td>-pSamples</td>
<td>指定从每个服务器获取的样本的数目。 Samples 的值在 1 和 8 之间，并包括 1 和 8。它的缺省值是 4。</td>
</tr>
<tr>
<td>-s</td>
<td>指定日志操作 syslog 设施的使用，而不是使用标准输出。 当运行 ntpdate 命令和 cron命令时，它是很有用的。</td>
</tr>
<tr>
<td>-tTimeOut</td>
<td>指定等待响应的时间。给定 TimeOut 的值四舍五入为 0.2 秒的倍数。缺省值是 1 秒。</td>
</tr>
<tr>
<td>-u</td>
<td>指定使用无特权的端口发送数据包。 当在一个对特权端口的输入流量进行阻拦的防火墙后是很有益的， 并希望在防火墙之外和主机同步。防火墙是一个系统或者计算机，它控制从外网对专用网的访问。</td>
</tr>
</tbody></table>
<p>启动时间同步服务：systemctl start chronyd</p>
<h3 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h3><h4 id="hostname"><a href="#hostname" class="headerlink" title="hostname"></a>hostname</h4><p>功能：查看完整的主机名</p>
<p>格式：<code>hostname</code></p>
<p>​    -f：输出当前主机名中的FQDN（全限定域名）</p>
<p>设置主机名：<code>hostnamectl set-hostname 主机名</code></p>
<h4 id="id"><a href="#id" class="headerlink" title="id"></a>id</h4><p>功能：显示用户信息，默认显示当前用户的的信息</p>
<p>格式：<code>id [用户名]</code></p>
<h4 id="whoami"><a href="#whoami" class="headerlink" title="whoami"></a>whoami</h4><p>whoami：显示当前登录的用户名</p>
<h4 id="用户和用户组管理"><a href="#用户和用户组管理" class="headerlink" title="用户和用户组管理"></a>用户和用户组管理</h4><p>/etc/passwd：存储用户的关键信息      用户名：密码：用户id：用户主组id：注释：家目录：解释器shell</p>
<p>/etc/group：存储用户组的关键信息      用户名：密码：用户组id：组内用户名</p>
<p>/etc/shadow：存储用户密码的关键信息</p>
<h5 id="用户管理-1"><a href="#用户管理-1" class="headerlink" title="用户管理"></a>用户管理</h5><ol>
<li><p><strong>添加用户</strong>：useradd [选项] 用户名</p>
<p>选项： -g：指定用户的用户主组（用户主组名或id）</p>
<p>​            -G：指定用户的的附加组（用户附加组名或id）</p>
<p>​            -u：自定义用户的uid</p>
<p>​            -s：修改shell，不能登录</p>
<p>​            -d：家目录</p>
<p>​            -c：添加用户注释</p>
</li>
<li><p><strong>设置密码</strong>：passwd 用户名        <strong>修改用户密码</strong>：chage -d 0：下次登录时必须设置密码</p>
</li>
<li><p><strong>修改用户</strong>：usermod 选项 用户名</p>
<p>选项： -g：指定用户的用户主组（用户主组名或id）</p>
<p>​            -G：指定用户的的附加组（用户附加组名或id）</p>
<p>​            -u：自定义用户的uid</p>
<p>​            -l：修改用户名</p>
</li>
<li><p><strong>删除用户</strong>：userdel [选项] 用户名</p>
<p>选项：-r：删除用户的同时，删除家目录</p>
</li>
<li><p><strong>切换用户</strong>：su 用户名</p>
</li>
</ol>
<h5 id="用户组管理"><a href="#用户组管理" class="headerlink" title="用户组管理"></a>用户组管理</h5><ol>
<li><p><strong>添加用户组</strong>：groupadd [选项] 用户组名</p>
<p>选项： -g：自定义用户组的id</p>
</li>
<li><p><strong>设置用户组密码</strong>：gpasswd 组名</p>
</li>
<li><p><strong>修改用户组</strong>：groupmod 选项 用户组名</p>
<p>选项： -g：自定义用户组的id</p>
<p>​            -u：修改用户组的名称</p>
</li>
<li><p><strong>删除用户组</strong>：groupdel 用户组名</p>
<p>当该组是某个组的主组时，不允许删除</p>
</li>
<li><p><strong>管理组成员</strong>：gpasswd 选项  用户 组名</p>
<p>选项：-a：添加用户到组</p>
<p>​            -d：从组中删除成员</p>
<p>​            -M：指定组的成员</p>
<p>​            -A：指定管理员</p>
<p>​            -r：删除组密码</p>
</li>
</ol>
<h5 id="修改文档所属的用户和用户组-当要删除用户时，就要更改文档对应的属主和属组信息"><a href="#修改文档所属的用户和用户组-当要删除用户时，就要更改文档对应的属主和属组信息" class="headerlink" title="修改文档所属的用户和用户组    当要删除用户时，就要更改文档对应的属主和属组信息"></a>修改文档所属的用户和用户组    当要删除用户时，就要更改文档对应的属主和属组信息</h5><p><strong>chown 用户名: 文档路径</strong>：修改文件的属主</p>
<p><strong>chown 用户名:用户组名 文档路径</strong>：修改文件的属主和属组</p>
<p><strong>chgrp 用户组名 文档路径</strong>：修改文件的属组</p>
<h3 id="解压缩"><a href="#解压缩" class="headerlink" title="解压缩"></a>解压缩</h3><h4 id="bzip2"><a href="#bzip2" class="headerlink" title="bzip2"></a>bzip2</h4><p>功能：压缩文件</p>
<p>格式：<code>bzip2 文件名1 [文件名2]...</code></p>
<p>说明：使用该命令对文件进行压缩后，压缩前的原始文件消失，系统会生成一个新的压缩文件，压缩文件的后缀为.bz2。而且，使用该命令压缩的文件，必须用bunzip2来进行解压操作。</p>
<h5 id="bunzip2"><a href="#bunzip2" class="headerlink" title="bunzip2"></a>bunzip2</h5><p>功能：解压文件</p>
<p>格式：<code>bunzip2 文件名1 [文件名2]...</code></p>
<h4 id="gzip"><a href="#gzip" class="headerlink" title="gzip"></a>gzip</h4><p>功能：压缩或解压文件</p>
<p>格式：<code>gzip [选项] 文件名</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>解压操作</td>
</tr>
<tr>
<td>-n</td>
<td>指定压缩级别，n的范围是1~9</td>
</tr>
</tbody></table>
<h5 id="unzip"><a href="#unzip" class="headerlink" title="unzip"></a>unzip</h5><p>功能：解压以.zip为后缀的压缩文件</p>
<p>格式：<code>unzip [选项] 文件名.zip</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>将文件解压到指定目录中</td>
</tr>
<tr>
<td>-n</td>
<td>不覆盖原来已存在的文件</td>
</tr>
<tr>
<td>-v</td>
<td>查看文件目录列表但不解压</td>
</tr>
<tr>
<td>-o</td>
<td>已默认方式覆盖已存在的文件</td>
</tr>
</tbody></table>
<p>举例： <code>unzip -n filename.zip -d /home/ubuntu</code>将文件filename.zip解压到/home/ubuntu目录中。</p>
<h4 id="zcat和bzcat"><a href="#zcat和bzcat" class="headerlink" title="zcat和bzcat"></a>zcat和bzcat</h4><p>功能：这两个都是用来查看压缩文件内容的，压缩文件不用解压也能查看。</p>
<p>格式：<code>zcat 文件名</code>或<code>bzcat 文件名</code></p>
<h4 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h4><p>功能：对文件或目录进行打包或解包操作</p>
<p>格式：<code>tar [选项] [备份包的文件名] [要打包或解包的文件或目录]</code></p>
<p>选项及作用：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>创建新的打包文件</td>
</tr>
<tr>
<td>-t</td>
<td>查看打包文件里的文件目录</td>
</tr>
<tr>
<td>-f</td>
<td>使用文件或设备</td>
</tr>
<tr>
<td>-v</td>
<td>显示打包压缩或解包压缩后的文件的详细清单</td>
</tr>
<tr>
<td>-x</td>
<td>抽取.tar文件的内容</td>
</tr>
<tr>
<td>-z</td>
<td>打包后直接用gzip命令进行压缩或解压文件</td>
</tr>
<tr>
<td>-j</td>
<td>打包后直接用bzip2命令进行压缩或解压文件</td>
</tr>
</tbody></table>
<p>常用：</p>
<p>​    tar –czvf jpg.tar *.jpg //将目录里所有jpg文件打包成tar.jpg</p>
<p>​    tar -xzvf file.tar.gz //解压tar.g</p>
<h3 id="网络管理"><a href="#网络管理" class="headerlink" title="网络管理"></a>网络管理</h3><h4 id="ifconfig"><a href="#ifconfig" class="headerlink" title="ifconfig"></a>ifconfig</h4><p>ifconfig：获取网卡信息</p>
<h4 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h4><p>netstat -hnlp：查看网络的连接状态</p>
<p>​    -t：表示只列出tcp协议的连接</p>
<p>​    -n：将地址从字母组合转化成ip地址，将协议转化成端口号表示</p>
<p>​    -l：过滤出“state”状态列中其值为LISTEN（监听）的连接</p>
<p>​    -p：显示发起连接的进程PID和进程名称</p>
<p>​    -a：全部网络的连接信息</p>
<h4 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h4><p>功能：检测当前主机与目标主机是否联通</p>
<p>格式：<code>ping 主机id</code></p>
<h4 id="traceroute-主机地址"><a href="#traceroute-主机地址" class="headerlink" title="traceroute 主机地址"></a>traceroute 主机地址</h4><p>功能：查找当前主机与目标主机之间的网关，会沿途给各个路由器发送ICMP数据包（需要安装）</p>
<p>格式：<code>traceroute 主机地址</code></p>
<p>在线查询工具：<a target="_blank" rel="noopener" href="http://tool.chinaz.com/">http://tool.chinaz.com</a></p>
<h4 id="arp-a"><a href="#arp-a" class="headerlink" title="arp -a"></a>arp -a</h4><p>功能：根据ip地址获取物理地址</p>
<h4 id="tcpdump"><a href="#tcpdump" class="headerlink" title="tcpdump"></a>tcpdump</h4><p>功能：抓包</p>
<p>格式：<code>tcpdump 协议 port端口</code></p>
<h4 id="配置静态ip"><a href="#配置静态ip" class="headerlink" title="配置静态ip"></a>配置静态ip</h4><ol>
<li><p>修改/etc/sysconfig/network-scriptsifcfg-ens160文件； </p>
<p>重写加载配置文件：nmcli connection reload ens160；</p>
<p>激活网卡：nmcli connection up ens160</p>
</li>
<li><p>nmcli命令</p>
</li>
<li><p>nmtui图形界面</p>
</li>
</ol>
<h4 id="SSH服务"><a href="#SSH服务" class="headerlink" title="SSH服务"></a>SSH服务</h4><p>ssh：安全外壳协议，用于远程连接，文件传输，默认端口22</p>
<p>安装openssh-server软件</p>
<p>ssh配置文件：/etc/ssh/sshd_config</p>
<p>启动/停止/重启ssh服务：systemctl  start sshd.service</p>
<ol>
<li>linux下安装openssh-clients软件，远程连接linux服务器；<ol>
<li>登录服务器：ssh -p 端口号 -l 用户名 ip地址</li>
<li>执行命令：ssh -p 端口号哦 -l 用户名 IP地址 命令</li>
<li>本地文件拷贝到远端：scp -P 端口号 [-r] 本地文件 id地址:远端路径</li>
<li>远端文件拷贝到本地：scp -P 端口号 用户名@id地址:/文件 本地路径</li>
</ol>
</li>
</ol>
<h4 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h4><p>CentOS8中防火墙是：firewalld</p>
<p>防火墙的启动/停止/重启/查看：systemctl start/stop/restart/ status firewalld.service</p>
<p>开启防火墙22端口：firewall-cmd –add-port=5672/tcp –permanent</p>
<p>firewall-cmd –list-ports        //查看已经放行的所有端口</p>
<p>firewall-cmd –reload        //让③中有permanent（永久生效）需重新加载</p>
<h3 id="设备管理"><a href="#设备管理" class="headerlink" title="设备管理"></a>设备管理</h3><h4 id="mount"><a href="#mount" class="headerlink" title="mount"></a>mount</h4><p>功能：挂在物理设备</p>
<p>格式：<code>mount设备原始地址 要挂在的路径</code></p>
<h4 id="umount"><a href="#umount" class="headerlink" title="umount"></a>umount</h4><p>功能：解挂物理设备</p>
<p>格式：<code>umount 当前设备挂载的路径</code></p>
<h2 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h2><h3 id="编写规范"><a href="#编写规范" class="headerlink" title="编写规范"></a>编写规范</h3><ol>
<li><p>代码规范：</p>
<p>​                    #!/bin/base（首行必须编写）</p>
<p>​                    Shell相关指令</p>
</li>
<li><p>文件命名规范：文件名.sh</p>
</li>
</ol>
<h3 id="使用流程"><a href="#使用流程" class="headerlink" title="使用流程"></a>使用流程</h3><ol>
<li>创建.sh文件</li>
<li>编写shell代码</li>
<li>执行shell脚本（必须得有执行权限）</li>
</ol>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><ol>
<li>定义：变量名=变量值（=左右不能有空格）变量值为指令时，需要使用``括起来(tab上边的反引号)</li>
<li>使用：$变量名</li>
<li>只读变量：readonly 变量名    在一个变量复制之后再使用</li>
<li>接收用户输入：read -p 提示信息 变量名</li>
<li>删除变量：unset 变量名</li>
</ol>
<h3 id="条件判断语句"><a href="#条件判断语句" class="headerlink" title="条件判断语句"></a>条件判断语句</h3><p>if 条件</p>
<p>then</p>
<p>​    语句</p>
<p>elif 条件</p>
<p>then </p>
<p>​    语句</p>
<p>else</p>
<p>​    语句</p>
<p>fi</p>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>expr 数字 运算符 数字</p>
<h2 id="web控制台"><a href="#web控制台" class="headerlink" title="web控制台"></a>web控制台</h2><ol>
<li>启动cockpit.service服务</li>
<li>登录：通过ip地址:9090登录</li>
</ol>

              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Linux8</div>
      <div>https://zhqblog.github.io/2021/11/13/Linux8/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>倔强的小强</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2021年11月13日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/ZHQBlog.github.io.git/2021/11/16/Redis/" title="Redis">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Redis</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/ZHQBlog.github.io.git/2021/01/30/Maven/" title="Maven">
                        <span class="hidden-mobile">Maven</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/ZHQBlog.github.io.git/js/events.js" ></script>
<script  src="/ZHQBlog.github.io.git/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>






  
    <script  src="/ZHQBlog.github.io.git/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/ZHQBlog.github.io.git/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/ZHQBlog.github.io.git/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
